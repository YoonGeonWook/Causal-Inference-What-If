<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>Causal Inference in R - 1&nbsp; A Definition of Causal Effect</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>

<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../chapters/chapter-02.html" rel="next">
<link href="../index.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script><script defer="" data-domain="r-causal.org" src="https://plausible.io/js/script.js"></script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>
</head>
<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../chapters/chapter-01.html">PART I - Causal Inference without models</a></li><li class="breadcrumb-item"><a href="../chapters/chapter-01.html"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">A Definition of Causal Effect</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Causal Inference in R</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">서론</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">PART I - Causal Inference without models</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/chapter-01.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">A Definition of Causal Effect</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/chapter-02.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Randomized Experiments</span></span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li><a href="#sec-1_1" id="toc-sec-1_1" class="nav-link active" data-scroll-target="#sec-1_1"><span class="header-section-number">1.1</span> Individual Causal Effects</a></li>
  <li><a href="#sec-1_2" id="toc-sec-1_2" class="nav-link" data-scroll-target="#sec-1_2"><span class="header-section-number">1.2</span> Average Causal Effects</a></li>
  <li><a href="#sec-1_3" id="toc-sec-1_3" class="nav-link" data-scroll-target="#sec-1_3"><span class="header-section-number">1.3</span> Measures of Causal Effect</a></li>
  <li><a href="#sec-1_4" id="toc-sec-1_4" class="nav-link" data-scroll-target="#sec-1_4"><span class="header-section-number">1.4</span> Random Variability</a></li>
  <li><a href="#sec-1_5" id="toc-sec-1_5" class="nav-link" data-scroll-target="#sec-1_5"><span class="header-section-number">1.5</span> Causation versus Association</a></li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<h1 class="title"><span id="sec-1" class="quarto-section-identifier"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">A Definition of Causal Effect</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header><p>독자가 이미 인과 효과가 무엇인지 알고 있으며 연관성과 인과성의 차이를 이해하고 있다고 가정한다. 이 챕터의 목적은 이미 가지고 있는 인과적 직관을 형식화 하는 수학적 표기법을 알아보는 것이다.</p>
<section id="sec-1_1" class="level2" data-number="1.1"><h2 data-number="1.1" class="anchored" data-anchor-id="sec-1_1">
<span class="header-section-number">1.1</span> Individual Causal Effects</h2>
<p>우리는 어떤 조치 <span class="math inline">\(A\)</span>가 취해졌을 때의 결과와 <span class="math inline">\(A\)</span>가 취해지지 않았을 때의 결과를 비교하여 두 결과가 다르면, <span class="math inline">\(A\)</span>에 인과 효과가 있다고 말한다. 여기서 <span class="math inline">\(A\)</span>를 간섭(intervention) 또는 exposure, policy, treatment라고 부른다.</p>
<p>인과적 직관을 분석에 적용하기 위한 표기법을 알아보자. 우선 binary treatment <span class="math inline">\(A\)</span>(1: treated, 0: untreated), binary outcome <span class="math inline">\(Y\)</span>(1: death, 0: survival)를 고려하자. <span class="math inline">\(A\)</span>와 <span class="math inline">\(Y\)</span>는 random variables이다. <span class="math inline">\(Y^{a=1}\)</span>는 처리 <span class="math inline">\(a=1\)</span> 하에서 관찰되는 outcome 변수이고, <span class="math inline">\(Y^{a=0}\)</span>는 처리 <span class="math inline">\(a=0\)</span> 하에서 관찰되는 outcome 변수다. 여기서 <span class="math inline">\(Y^{a=1}\)</span>과 <span class="math inline">\(Y^{a=0}\)</span>도 random variables다.</p>
<p>이제 개개인에 대한 인과 효과를 정의내릴 수 있다: 만일 개인에 대해 <span class="math inline">\(Y^{a=1}\ne Y^{a=0}\)</span>이라면, 처리 <span class="math inline">\(A\)</span>가 outcome <span class="math inline">\(Y\)</span>에 인과 효과가 있는 것이다. 여기서 변수 <span class="math inline">\(Y^{a=1}\)</span>과 <span class="math inline">\(Y^{a=0}\)</span>를 <strong>잠재적 결과(potential outcomes) 또는 반사실적 결과(counterfactual outcomes)</strong>라고 부른다.</p>
<ul>
<li>실제로 관찰될 수 있는 두 결과 중 하나라는 의미에서 ‘잠재적 결과’</li>
<li>사실에 반하는 상황을 나타내는 의미에서 ‘반사실적 결과’</li>
</ul>
<p>각 개인에 대해 반사실적 결과 중 하나는 실제로 사실이다. 예를 들어, 제우스가 실제로 치료를 받았기 때문에(<span class="math inline">\(A=1\)</span>), 그의 치료 하에서의 반사실적 결과 <span class="math inline">\(Y^{a=1}=1\)</span>는 그것의 관찰된 실제 결과 <span class="math inline">\(Y=1\)</span>와 같다. 이는 <span class="math inline">\(Y=Y^A\)</span>와 같이 간결하게 표현할 수 있다. 여기서 <span class="math inline">\(Y^A\)</span>는 개인의 관찰된 처리 <span class="math inline">\(A\)</span>에 해당하는 값 <span class="math inline">\(a\)</span>에서 평가된 반사실적 <span class="math inline">\(Y\)</span>를 나타낸다. 이를 <strong>일관성(consistency)</strong>이라고 한다.</p>
<div id="callout-consistency" class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Consistency
</div>
</div>
<div class="callout-body-container callout-body">
<p><span class="math inline">\(Y^a_i=Y^A_i=Y_i\)</span> if <span class="math inline">\(A_i=a\)</span></p>
</div>
</div>
<p>개별 인과 효과는 반사실적 결과(counterfactual outcome) 값과의 대조로써 정의되지만, 각 개인에 대해 관찰되는 것은 outcomes 중 하나뿐이다 - 개인이 실제로 경험한 처리 값에 해당하는 것이다. 다른 모든 반사실적 결과는 관찰되지 않는다. 누락된 데이터로 인해 개별 효과는 식별할 수 없다. 즉, 관찰된 데이터의 함수로 표현할 수 없다는 것이다.</p>
</section><section id="sec-1_2" class="level2" data-number="1.2"><h2 data-number="1.2" class="anchored" data-anchor-id="sec-1_2">
<span class="header-section-number">1.2</span> Average Causal Effects</h2>
<p>개별 데이터에 대한 인과 효과를 정의하기 위해선 세 가지 정보가 필요하다: 1) 관심있는 결과(outcome of interest), 2) 비교될 행동(<span class="math inline">\(a=1\)</span> and <span class="math inline">\(a=0\)</span>), 3) 비교될 반사실적 결과 <span class="math inline">\(Y^{a=1}\)</span>과 <span class="math inline">\(Y^{a=0}\)</span>를 가진 개인. 하지만, 개인의 인과효과는 식별하는 것이 일반적으로 불가능하기 때문에 우리는 집합적 수준(aggregated level)에서의 <strong>평균 인과 효과(average causal effect)</strong>에 관심을 둔다. 이를 위해 역시 필요한 세 가지는 아래와 같다.</p>
<ol type="1">
<li>관심있는 결과(outcome of interest)</li>
<li>비교될 행동(<span class="math inline">\(a=1\)</span> and <span class="math inline">\(a=0\)</span>)</li>
<li>비교될 반사실적 결과 <span class="math inline">\(Y^{a=1}\)</span>과 <span class="math inline">\(Y^{a=0}\)</span>를 가진 개인의 집단</li>
</ol>
<div class="cell" data-hash="chapter-01_cache/html/tbl-11_8d7e2b380185fa7c3eb6d03b44ee9cfa">
<details><summary>Code</summary><div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html">tribble</a></span><span class="op">(</span></span>
<span>  <span class="op">~</span><span class="st">'name'</span>, <span class="op">~</span><span class="st">'Ya=0'</span>, <span class="op">~</span><span class="st">'Ya=1'</span>,</span>
<span>  <span class="st">"Rheia"</span>, <span class="fl">0</span>, <span class="fl">1</span>,</span>
<span>  <span class="st">"Kronos"</span>, <span class="fl">1</span>, <span class="fl">0</span>,</span>
<span>  <span class="st">"Demeter"</span>, <span class="fl">0</span>, <span class="fl">0</span>,</span>
<span>  <span class="st">"Hades"</span>, <span class="fl">0</span>, <span class="fl">0</span>,</span>
<span>  <span class="st">"Hestia"</span>, <span class="fl">0</span>, <span class="fl">0</span>,</span>
<span>  <span class="st">"Poseidon"</span>, <span class="fl">1</span>, <span class="fl">0</span>,</span>
<span>  <span class="st">"Hera"</span>, <span class="fl">0</span>, <span class="fl">0</span>, </span>
<span>  <span class="st">"Zeus"</span>, <span class="fl">0</span>, <span class="fl">1</span>,</span>
<span>  <span class="st">"Artemis"</span>, <span class="fl">1</span>, <span class="fl">1</span>,</span>
<span>  <span class="st">"Apollo"</span>, <span class="fl">1</span>, <span class="fl">0</span>,</span>
<span>  <span class="st">"Leto"</span>, <span class="fl">0</span>, <span class="fl">1</span>,</span>
<span>  <span class="st">"Ares"</span>, <span class="fl">1</span>, <span class="fl">1</span>,</span>
<span>  <span class="st">"Athena"</span>, <span class="fl">1</span>, <span class="fl">1</span>,</span>
<span>  <span class="st">"Hephaestus"</span>, <span class="fl">0</span>, <span class="fl">1</span>,</span>
<span>  <span class="st">"Aphrodite"</span>, <span class="fl">0</span>, <span class="fl">1</span>,</span>
<span>  <span class="st">"Polyphemus"</span>, <span class="fl">0</span>, <span class="fl">1</span>,</span>
<span>  <span class="st">"Persephone"</span>, <span class="fl">1</span>, <span class="fl">1</span>,</span>
<span>  <span class="st">"Hermes"</span>, <span class="fl">1</span>, <span class="fl">0</span>,</span>
<span>  <span class="st">"Hebe"</span>, <span class="fl">1</span>, <span class="fl">0</span>,</span>
<span>  <span class="st">"Dionysus"</span>, <span class="fl">1</span>, <span class="fl">0</span></span>
<span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">gt</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">cols_label</span><span class="op">(</span></span>
<span>    name   <span class="op">=</span> <span class="fu">md</span><span class="op">(</span><span class="st">"Name"</span><span class="op">)</span>,</span>
<span>    `Ya=0` <span class="op">=</span> <span class="fu">html</span><span class="op">(</span><span class="st">"Y&lt;sup&gt;a=0&lt;/sup&gt;"</span><span class="op">)</span>,</span>
<span>    `Ya=1` <span class="op">=</span> <span class="fu">html</span><span class="op">(</span><span class="st">"Y&lt;sup&gt;a=1&lt;/sup&gt;"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="tbl-11" class="anchored">

<div id="nxmavuzsoy" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#nxmavuzsoy table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#nxmavuzsoy thead, #nxmavuzsoy tbody, #nxmavuzsoy tfoot, #nxmavuzsoy tr, #nxmavuzsoy td, #nxmavuzsoy th {
  border-style: none;
}

#nxmavuzsoy p {
  margin: 0;
  padding: 0;
}

#nxmavuzsoy .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#nxmavuzsoy .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#nxmavuzsoy .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#nxmavuzsoy .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#nxmavuzsoy .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#nxmavuzsoy .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#nxmavuzsoy .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#nxmavuzsoy .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#nxmavuzsoy .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#nxmavuzsoy .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#nxmavuzsoy .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#nxmavuzsoy .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#nxmavuzsoy .gt_spanner_row {
  border-bottom-style: hidden;
}

#nxmavuzsoy .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#nxmavuzsoy .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#nxmavuzsoy .gt_from_md > :first-child {
  margin-top: 0;
}

#nxmavuzsoy .gt_from_md > :last-child {
  margin-bottom: 0;
}

#nxmavuzsoy .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#nxmavuzsoy .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#nxmavuzsoy .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#nxmavuzsoy .gt_row_group_first td {
  border-top-width: 2px;
}

#nxmavuzsoy .gt_row_group_first th {
  border-top-width: 2px;
}

#nxmavuzsoy .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#nxmavuzsoy .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#nxmavuzsoy .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#nxmavuzsoy .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#nxmavuzsoy .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#nxmavuzsoy .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#nxmavuzsoy .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#nxmavuzsoy .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#nxmavuzsoy .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#nxmavuzsoy .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#nxmavuzsoy .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#nxmavuzsoy .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#nxmavuzsoy .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#nxmavuzsoy .gt_left {
  text-align: left;
}

#nxmavuzsoy .gt_center {
  text-align: center;
}

#nxmavuzsoy .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#nxmavuzsoy .gt_font_normal {
  font-weight: normal;
}

#nxmavuzsoy .gt_font_bold {
  font-weight: bold;
}

#nxmavuzsoy .gt_font_italic {
  font-style: italic;
}

#nxmavuzsoy .gt_super {
  font-size: 65%;
}

#nxmavuzsoy .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#nxmavuzsoy .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#nxmavuzsoy .gt_indent_1 {
  text-indent: 5px;
}

#nxmavuzsoy .gt_indent_2 {
  text-indent: 10px;
}

#nxmavuzsoy .gt_indent_3 {
  text-indent: 15px;
}

#nxmavuzsoy .gt_indent_4 {
  text-indent: 20px;
}

#nxmavuzsoy .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<caption>Table&nbsp;1.1:  <p>Zeus 집단</p> </caption>
  <thead><tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Name">Name</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Y<sup>a=0</sup>">Y<sup>a=0</sup>
</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Y<sup>a=1</sup>">Y<sup>a=1</sup>
</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td headers="name" class="gt_row gt_left">Rheia</td>
<td headers="Ya=0" class="gt_row gt_right">0</td>
<td headers="Ya=1" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="name" class="gt_row gt_left">Kronos</td>
<td headers="Ya=0" class="gt_row gt_right">1</td>
<td headers="Ya=1" class="gt_row gt_right">0</td>
</tr>
<tr>
<td headers="name" class="gt_row gt_left">Demeter</td>
<td headers="Ya=0" class="gt_row gt_right">0</td>
<td headers="Ya=1" class="gt_row gt_right">0</td>
</tr>
<tr>
<td headers="name" class="gt_row gt_left">Hades</td>
<td headers="Ya=0" class="gt_row gt_right">0</td>
<td headers="Ya=1" class="gt_row gt_right">0</td>
</tr>
<tr>
<td headers="name" class="gt_row gt_left">Hestia</td>
<td headers="Ya=0" class="gt_row gt_right">0</td>
<td headers="Ya=1" class="gt_row gt_right">0</td>
</tr>
<tr>
<td headers="name" class="gt_row gt_left">Poseidon</td>
<td headers="Ya=0" class="gt_row gt_right">1</td>
<td headers="Ya=1" class="gt_row gt_right">0</td>
</tr>
<tr>
<td headers="name" class="gt_row gt_left">Hera</td>
<td headers="Ya=0" class="gt_row gt_right">0</td>
<td headers="Ya=1" class="gt_row gt_right">0</td>
</tr>
<tr>
<td headers="name" class="gt_row gt_left">Zeus</td>
<td headers="Ya=0" class="gt_row gt_right">0</td>
<td headers="Ya=1" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="name" class="gt_row gt_left">Artemis</td>
<td headers="Ya=0" class="gt_row gt_right">1</td>
<td headers="Ya=1" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="name" class="gt_row gt_left">Apollo</td>
<td headers="Ya=0" class="gt_row gt_right">1</td>
<td headers="Ya=1" class="gt_row gt_right">0</td>
</tr>
<tr>
<td headers="name" class="gt_row gt_left">Leto</td>
<td headers="Ya=0" class="gt_row gt_right">0</td>
<td headers="Ya=1" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="name" class="gt_row gt_left">Ares</td>
<td headers="Ya=0" class="gt_row gt_right">1</td>
<td headers="Ya=1" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="name" class="gt_row gt_left">Athena</td>
<td headers="Ya=0" class="gt_row gt_right">1</td>
<td headers="Ya=1" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="name" class="gt_row gt_left">Hephaestus</td>
<td headers="Ya=0" class="gt_row gt_right">0</td>
<td headers="Ya=1" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="name" class="gt_row gt_left">Aphrodite</td>
<td headers="Ya=0" class="gt_row gt_right">0</td>
<td headers="Ya=1" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="name" class="gt_row gt_left">Polyphemus</td>
<td headers="Ya=0" class="gt_row gt_right">0</td>
<td headers="Ya=1" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="name" class="gt_row gt_left">Persephone</td>
<td headers="Ya=0" class="gt_row gt_right">1</td>
<td headers="Ya=1" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="name" class="gt_row gt_left">Hermes</td>
<td headers="Ya=0" class="gt_row gt_right">1</td>
<td headers="Ya=1" class="gt_row gt_right">0</td>
</tr>
<tr>
<td headers="name" class="gt_row gt_left">Hebe</td>
<td headers="Ya=0" class="gt_row gt_right">1</td>
<td headers="Ya=1" class="gt_row gt_right">0</td>
</tr>
<tr>
<td headers="name" class="gt_row gt_left">Dionysus</td>
<td headers="Ya=0" class="gt_row gt_right">1</td>
<td headers="Ya=1" class="gt_row gt_right">0</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<p><a href="#tbl-11">Table&nbsp;<span>1.1</span></a> 는 치료 <span class="math inline">\(a=1\)</span>와 무치료 <span class="math inline">\(a=0\)</span> 상태에서 20명에 대한 반사실적 결과를 보여준다. 집단의 절반(20명 중 10명)은 심장 이식을 받았다면 사망했을 것이다. 즉, 모든 개인이 <span class="math inline">\(a=1\)</span>을 받았다면 해당 결과가 발생했을 비율은 <span class="math inline">\(\text{Pr}[Y^{a=1}=1] = 10/20=0.5\)</span>이다.</p>
<div id="callout-fp11" class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Fine Point 1.1
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Interference(간섭)</strong>. 개인의 <span class="math inline">\(a\)</span> 값에서의 반사실적 결과가 다른 개인의 처리 값에 의존하지 않는다고 가정하고 반사실적 결과를 정의한다. 예를 들어, Zeus가 심장 이식을 받았을 때 사망한다고 암묵적으로 가정했는데, 이는 Hera가 심장 이식을 받았는지 여부와는 관계없다. 즉, Hera의 처리 값이 Zeus의 결과에 간섭(interfere)하지 않는다는 것이다. 하지만 현실에서는 개인 간의 간섭은 흔히 발생하며, 개인의 결과는 다른 구성원과의 (사회적) 상호작용에 영향을 받는다.</p>
<p>간섭이 존재하는 경우 개인 <span class="math inline">\(i\)</span>에 대한 반사실적 <span class="math inline">\(Y^a_i\)</span>는 잘 정의되지 않는다. 간섭이 있을 경우, “심장 이식이 Zeus의 결과에 미치는 인과효과”는 잘 정의되지 않는다. 오히려, “Hera가 심장 이식을 받지 않을 때 심장 이식이 Zeus의 결과에 미치는 인과효과” 같은 것을 주목해야 한다.</p>
<p>특별히 명시하지 않는 한, 이 책에서는 간섭이 없다고 가정할 것이다.</p>
</div>
</div>
<p>마찬가지로 <a href="#tbl-11">Table&nbsp;<span>1.1</span></a> 의 나머지 열에서는 집단의 절반이 처치를 받지 않았다면 사망했을 것이라는 결론이 나온다. 즉, 모든 개인이 <span class="math inline">\(a=0\)</span>을 받았다면 결과가 발생했을 비율이 <span class="math inline">\(\text{Pr}[Y^{a=0}=1]=0.5\)</span> 이라는 것이다.</p>
<p>이제 집단에서 <strong>평균 인과 효과(average causal effect)</strong>를 정의해보자: 처리 <span class="math inline">\(A\)</span>의 평균 인과 효과는 <span class="math inline">\(\text{Pr}[Y^{a=1}=1]\ne\text{Pr}[Y^{a=0}=1]\)</span>이 관심 결과 집단에서 존재할 때 정의할 수 있다. 이 정의에 따르면 <a href="#tbl-11">Table&nbsp;<span>1.1</span></a> 의 처리 <span class="math inline">\(A\)</span>는 결과 <span class="math inline">\(Y\)</span>에 평균 인과 효과가 없다. 이와 같이 집단에서 평균 인과 효과가 없는 경우를 <em>평균 인과 효과가 없다는 귀무가설이 참</em>이라고 일컫는다. 따라서 평균 인과 효과가 있음을 나타내는 대립가설로 <span class="math inline">\(\text{E}[Y^{a=1}]\ne\text{E}[Y^{a=0}]\)</span>로 쓸 수 있다.</p>
<div id="callout-fp12" class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Fine Point 1.2
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Multiple versions of treatment</strong>. 처리 <span class="math inline">\(a\)</span> 하에서의 반사실적 결과에 대한 정의는 치료 값 <span class="math inline">\(A=a\)</span>의 단일 버전만이 있다는 것을 암묵적으로 가정한다. Zeus가 심장 이식을 받으면 사망할 것이라고 했는데, 이는 모든 심장 이식이 동일한 단일 버전이라는 것이다. 만일 여러 버전의 처리가 있다면, 즉 다른 기술을 가진 외과의사가 있어서 어떤 의사에게 수술을 받느냐에 따라 Zeus의 결과가 달라진다면, 이러한 경우 개인 <span class="math inline">\(i\)</span>에 대한 반사실적 <span class="math inline">\(Y_i^a\)</span>는 처리 버전 <span class="math inline">\(a\)</span>에 따라 달라지기 때문에 정의되지 않는다. 이렇게 처리의 여러 버전이 있을 경우, 특정 버전의 처리에 대한 결과의 인과 효과를 다루어야 한다.</p>
<p><a href="#callout-fp11">Fine Point 1.1</a> 에서 간섭이 없다는 가정처럼, 여러 버전의 처리가 없다는 가정은 Rubin (1980)이 설명한 SUTVA에 포함되어 있다. “처리 변이 무관성(treatment variation irrelevance)”는 처리 <span class="math inline">\(A=a\)</span>가 여러 버전이 존재할 수 있지만 모두 동일한 결과 <span class="math inline">\(Y_i^a\)</span>를 초래한다는 가정이다. 이에 대해 <span class="quarto-unresolved-ref">?sec-3</span> 에서 다룰 것이고, 특별한 언급없이는 처리 변이 무관성을 가정할 것이다.</p>
</div>
</div>
<div id="callout-avg_ce" class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Average Causal Effect in Population
</div>
</div>
<div class="callout-body-container callout-body">
<p><span class="math display">\[\text{E}[Y^{a=1}] \ne \text{E}[Y^{a=0}]\]</span></p>
</div>
</div>
<p>여기서 중요한 것은 평균 인과 효과가 없다는 것이 개별 인과 효과도 없다는 것을 의미하지 않는다는 것이다. <a href="#tbl-11">Table&nbsp;<span>1.1</span></a> 은 12명에게 개별 효과를 가지고 있을을 보여준다. 왜냐하면 12명의에 대해 그들의 반사실적 결과 <span class="math inline">\(Y^{a=0}\)</span>과 <span class="math inline">\(Y^{a=1}\)</span>가 다르기 때문이다. 12명 중 6명은 처리로 인해 해를 입었고(<span class="math inline">\(Y^{a=1}-Y^{a=0}=1\)</span>), 6명은 도움을 받았다(<span class="math inline">\(Y^{a=1}-Y^{a=0}=-1\)</span>). 이 동등함은 우연이 아니다: 평균인과효과 <span class="math inline">\(\text{E}[Y^{a=1}]-\text{E}[Y^{a=0}]\)</span>는 항상 개별인과효과 <span class="math inline">\(Y^{a=1}-Y^{a=0}\)</span>의 평균 <span class="math inline">\(\text{E}[Y^{a=1}-Y^{a=0}]\)</span>과 같다. 집단의 모든 개인에게 인과 효과가 없을 때(모든 개인에 대해 <span class="math inline">\(Y^{a=1}=Y^{a=0}\)</span>), <strong>예리한 인과적 귀무가설(sharp causal null hypothesis)</strong>이 참이라고 한다. 예리한 인과적 귀무가설은 평균 인과 효과가 없다는 귀무가설을 포함하고 있다.</p>
<p>이제부터는 평균인과효과를 단순히 ’인과효과’로 언급하고, 평균인과효과가 없다는 귀무가설을 단순히 인과적 귀무가설이라고 칭하겠다.</p>
<div id="callout-tp11" class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Technical Point 1.1
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Causal Effects in the Population</strong>. 모든 개인이 처리 수준 <span class="math inline">\(a\)</span>를 받았을 때 평균 반사실적 결과 <span class="math inline">\(\text{E}[Y^a]\)</span>를 고려해보자. 이산 또는 연속형 결과변수에 모두 적용되는 표현은 <span class="math inline">\(\text{E}[Y^a]=\int y\,dF_{Y^a}(y)\)</span>이다. 여기서 <span class="math inline">\(F_{Y^a}(\cdot)\)</span>는 확률 변수 <span class="math inline">\(Y^a\)</span>의 cdf이다. 우리는 어떤 <span class="math inline">\(a\)</span>와 <span class="math inline">\(a^\prime\)</span>에 대해 <span class="math inline">\(\text{E}[Y^a]\ne \text{E}[Y^{a^\prime}]\)</span>이면 집단에 평균인과효과가 있다고 말한다.</p>
<p>평균 반사실적 결과의 비교로 정의된 평균인과효과는 가장 일반적으로 사용되는 모집단 인과효과이다. 하지만 모집단 인과효과는 반사실적 결과의 함수적 대조(중앙값, 분산, hazard, cdf 등)으로도 정의될 수 있다.</p>
<p>여기서 주의할 점은 모집단 분산의 차이 <span class="math inline">\(\text{Var}(Y^{a=1})-\text{Var}(Y^{a=0})\)</span>는 개별 인과효과의 분산 <span class="math inline">\(\text{Var}(Y^{a=1}-Y^{a=0})\)</span>과 같이 않다는 것이다. 우리는 무작위 실험(randomized trial)에서 <span class="math inline">\(\text{Var}(Y^{a=1})-\text{Var}(Y^{a=0})\)</span>를 식별(계산)할 수 있지만, 어떤 개인에 대해서도 <span class="math inline">\(Y^{a=1}\)</span>과 <span class="math inline">\(Y^{a=0}\)</span>를 동시에 관찰할 수 없기 때문에 <span class="math inline">\(\text{Var}(Y^{a=1}-Y^{a=0})\)</span>은 식별할 수 없다. 이는 분산뿐 아니라 비선형적 functional(중앙값, hazard 등)에도 해당된다.</p>
</div>
</div>
</section><section id="sec-1_3" class="level2" data-number="1.3"><h2 data-number="1.3" class="anchored" data-anchor-id="sec-1_3">
<span class="header-section-number">1.3</span> Measures of Causal Effect</h2>
<p><a href="#tbl-11">Table&nbsp;<span>1.1</span></a> 을 통해서 ’심장 이식’이라는 처리 <span class="math inline">\(A\)</span>가 20명으로 이루어진 모집단에서 ’사망’이라는 결과 <span class="math inline">\(Y\)</span>에 인과효과가 없음을 보았다. 인과적 귀무가설이 받아들여지는 이유는 두 반사실적 위험(risks) <span class="math inline">\(\operatorname{Pr}\left[Y^{a=1}=1\right]\)</span> 과 <span class="math inline">\(\operatorname{Pr}\left[Y^{a=0}=1\right]\)</span> 0.5로 동일하기 때문이다. 인과적 귀무가설을 나타내는 다른 방법들(causal parameters)이 있는데 아래와 같다.</p>
<ol type="i">
<li>Causal Risk Difference: <span class="math inline">\(\text{Pr}[Y^{a=1}=1] - \text{Pr}[Y^{a=0}=1]=0\)</span>
</li>
<li>Causal Risk Ratio: <span class="math inline">\(\frac{\text{Pr}[Y^{a=1}=1]}{\text{Pr}[Y^{a=0}=1]}=1\)</span>
</li>
<li>Causal Odds Ratio: <span class="math inline">\(\frac{\operatorname{Pr}\left[Y^{a=1}=1\right] / \operatorname{Pr}\left[Y^{a=1}=0\right]}{\operatorname{Pr}\left[Y^{a=0}=1\right] / \operatorname{Pr}\left[Y^{a=0}=0\right]}=1\)</span>
</li>
</ol>
<div id="callout-measures" class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>모집단에서의 causal risk difference는 개별 인과효과 <span class="math inline">\(Y^{a=1}-Y^{a=0}\)</span>의 평균인데, 평균 개별 인과 효과의 척도이다. 반면에, 모집단에서의 causal risk ratio는 개별 인과효과 <span class="math inline">\(Y^{a=1}/Y^{a=0}\)</span>의 평균이 아니다. 이는 모집단 수준에서의 인과효과 척도이지만, 개별 수준에서의 평균은 아니다.</p>
</div>
</div>
<p>causal risk difference, ratio, odds ratio와 같은 causal parameters는 동일한 인과효과의 강도를 서로 다른 척도로 정량화한다. 이들이 인과효과를 측정하기 때문에, 이것들을 <strong>효과척도(effect measures)</strong>로 참조하는 것이다.</p>
<p>각 효과척도는 서로 다른 목적으로 사용된다. 예를 들어 처리를 받은 경우 백만 명 중 3명이 결과가 발생하고, 처리를 받지 않은 경우 백만 명 중 1명이 결과가 발생한다고 해보자. 이 때 risk ratio는 3이고, risk difference는 0.0000002이다. 곱셈 척도인 risk ratio는 처리를 가한 것이 그렇지 않은 것에 비해 결과 발생 위험을 몇 배 증가시키는지 계산하는 데 사용된다. 덧셈 척도인 risk difference는 처리에 의한 결과의 절대 수 계산에 사용된다. 즉, 추론의 목적에 따라 어떤 효과척도를 사용할지가 달라진다.</p>
<div id="callout-fp13" class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Fine Point 1.3
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Number needed to treat(NNT)</strong>. 1억 명의 환자가 있는 모집단을 고려해 보자. 치료를 받으면 이 중 2천만 명은 5년 내에 사망할 것이고(<span class="math inline">\(a=1\)</span>), 치료를 받지 않으면 이 중 3천만 명은 5년 내에 사망한다(<span class="math inline">\(a=0\)</span>). 이 정보를 여러 방법으로 요약할 수 있다:</p>
<ul>
<li>risk difference: <span class="math inline">\(\text{Pr}[Y^{a=1}=1]-\text{Pr}[Y^{a=0}=1]=0.2-0.3=-0.1\)</span>
</li>
<li>1억명의 환자를 치료하면, 그렇지 않는 것보다 사망자가 1천만 명 적을 것이다</li>
<li>1천만 명을 살리기 위해 1억 명 모두를 치료해야 한다</li>
<li>1명의 생명을 구하기 위해 평균적으로 10명을 치료해야 한다</li>
</ul>
<p><strong>처리가 필요한 수(NNT)</strong>는 <span class="math inline">\(Y=1\)</span>의 경우의 수를 1로 줄이기 위해 필요한 처리 <span class="math inline">\(a=1\)</span>를 받은 개인의 평균 수라고 정의한다. 위 예에서는 NNT가 10이다.</p>
<p><span class="math display">\[\text{NNT} = \left | \frac{1}{\text{Pr}[Y^{a=1}=1]-\text{Pr}[Y^{a=0}=1]}\right |=\frac{-1}{\text{Pr}[Y^{a=1}=1]-\text{Pr}[Y^{a=0}=1]}\]</span></p>
<p>처리가 평균 사례 수를 증가시키는 경우(즉, risk diff가 양수인 경우), 대칭적으로 <em>number needed to harm</em>을 정의할 수 있다.</p>
</div>
</div>
</section><section id="sec-1_4" class="level2" data-number="1.4"><h2 data-number="1.4" class="anchored" data-anchor-id="sec-1_4">
<span class="header-section-number">1.4</span> Random Variability</h2>
<p>앞서 다룬 인과효과의 측정 방식이 다소 비현실적이라고 생각할 수 있다. 모든 연구 대상자의 반사실적 결과를 알고 있다고 해도, 표본(sample)을 사용하는 것은 처리 값 <span class="math inline">\(a\)</span> 하에서 모집단 결과를 가진 개개인의 정확한 비율을 직접 계산할 수는 없다. 즉, 처리를 받지 않은 상태에서의 결과 발생 확률 <span class="math inline">\(\text{Pr}[Y^{a=0}=1]\)</span>을 직접 계산할 수 없다는 것이다. 이 확률은 오직 추정할 수 있을 뿐이다.</p>
<p>::: {#callout-sampling_variability .callout=note} ## <span class="math inline">\(1^{\text{st}}\)</span> source of randome error {#callout-sampling_variability}</p>
<p>Sampling Variability :::</p>
<p>다시 <a href="#tbl-11">Table&nbsp;<span>1.1</span></a> 로 돌아가서, 이전에는 이들 20명을 모집단으로 고려했다. 이제는 이들을 훨씬 더 크고 거의 무한한 <strong>초모집단(super-population)</strong>에서의 random sample이라고 간주해보자. 이 때 우리는 샘플 내에서 처리 받지 않은 경우의 사망 비율을 <span class="math inline">\(\widehat{\text{Pr}}[Y^{a=0}=1]=0.5\)</span>으로 계산한다. 표본 비율 <span class="math inline">\(\widehat{\text{Pr}}[Y^{a=0}=1]\)</span>이 <span class="math inline">\(\text{Pr}[Y^{a=0}=1]\)</span>과 같을 필요는 없다. 샘플링 변동성(sampling variability)으로 인한 random error 때문에 특정 표본에서는 <span class="math inline">\(\widehat{\text{Pr}}[Y^{a=0}=1]=0.5\)</span>일 수 있기 때문이다. 우리는 표본 비율 <span class="math inline">\(\widehat{\text{Pr}}[Y^{a=0}=1]\)</span>을 이용하여 처리 값 <span class="math inline">\(a\)</span>하에서의 초모집단 확률 <span class="math inline">\(\text{Pr}[Y^{a=0}=1]\)</span>을 추정한다. 우리는 <span class="math inline">\(\widehat{\text{Pr}}[Y^{a=0}=1]\)</span>을 <span class="math inline">\(\text{Pr}[Y^{a=0}=1]\)</span>의 <strong>consistency estimates</strong>라고 한다. 왜냐하면 대수의 법칙에 따라 표본의 크기가 커질 수록 추정량과 모수 간 차이가 작아질 것이기 때문이다.</p>
<p>초모집단의 확률 <span class="math inline">\(\text{Pr}[Y^{a=0}=1]\)</span>은 계산할 수 없기 때문에, 표본 비율 <span class="math inline">\(\widehat{\text{Pr}}[Y^{a=0}=1]\)</span>에 의해서만 추정될 수 있기 때문에 표본 비율을 통해 인과효과 여부를 결론짓기는 어렵다. 대신에 인과적 귀무가설 <span class="math inline">\(\text{Pr}[Y^{a=1}=1] = \text{Pr}[Y^{a=0}=1]\)</span>에 대한 <strong>경험적 증거(empirical evidence)</strong>를 평가하기 위한 통계적 절차를 사용해야 한다(<span class="quarto-unresolved-ref">?sec-10</span> 에서 다룸).</p>
<div id="callout-caution_consistency" class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>주의: 추정치에 사용되는 ’consistency’라는 용어는 반사실적 결과에 적용될 때와는 다른 의미를 갖는다.</p>
</div>
</div>
<div id="callout-Nondeterministic_counterfactuals" class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
<span class="math inline">\(2^{\text{nd}}\)</span> source of random error
</div>
</div>
<div class="callout-body-container callout-body">
<p>Nondeterministic counterfactuals</p>
</div>
</div>
<p>Random variability에는 샘플링 변동성 외에도 다른 원인이 있다: 개인의 반사실적 결과 값이 미리 고정되어 있지 않을 수도 있다는 관점이다. 앞서 반사실적 결과 <span class="math inline">\(Y^a\)</span>를 개인이 처리 <span class="math inline">\(a\)</span>를 받았을 때 나타날 결과로 정의했다. 정의에 따르면 반사실적 결과 값은 각 개인에 대해 고정되거나 결정론적(deterministic)이다. 그러나 반사실적 결과가 확률적(stochastic) 또는 비결정론적(nondeterministic)일 수 있다. 이러한 관점에서보면 <a href="#tbl-11">Table&nbsp;<span>1.1</span></a> 은 특정 확률을 갖는 ‘사망 확률 동전 던지기’ 실험의 가능한 실현치이다.</p>
<p>따라서 인과추론에서의 무작위 오류(random error)는 샘플링 변동성, 비결정론적 반사실적 결과 모두에서 비롯될 수 있다. 하지만 교육적인 목적으로 <span class="quarto-unresolved-ref">?sec-10</span> 까지는 대부분의 무작위 오류를 무시할 것이다. 즉, 우리는 당분간 반사실적 결과가 결정론적이고 매우 큰 가상의 초모집단 내 모든 개인에 대한 데이터를 기록되있다고 가정할 것이다.</p>
<p>그런 다음 <span class="quarto-unresolved-ref">?sec-10</span> 에서는 초모집단에서의 인과효과에 대한 통계적 추정치와 신뢰구간이 개인 수준에서 (확률적이든 결정론적이든) 동일하다는 것을 설명할 것이다.</p>
<div id="callout-tp12" class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Technical Point 1.2
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Nondeterministic Counterfactuals</strong>. 비결정론적인 반사실적 결과의 경우 처리 값 <span class="math inline">\(a\)</span>하에서의 mean outcome <span class="math inline">\(\text{E}[Y^a]\)</span>는 가능한 모든 <span class="math inline">\(y\)</span>에 대해 확률 변수 <span class="math inline">\(Y^a\)</span>의 가중 합 <span class="math inline">\(\sum_y y\,p_{Y^a}(y)\)</span>로 계산된다. 여기서 pmf는 <span class="math inline">\(p_{Y^a}(\cdot) = \text{E}[Q_{Y^a}(\cdot)]\)</span>이고, <span class="math inline">\(Q_{Y^a}(y)\)</span>는 처리 수준 <span class="math inline">\(a\)</span> 하에서 <span class="math inline">\(Y=y\)</span>를 가지는 random probability이다. 앞서 비결정론 반사실적 결과에 대한 예에서는, <span class="math inline">\(Q_{Y^{a=1}}(1) = 0.9\)</span>인 것이다.</p>
<p>더 일반적으로 비결정론적 반사실적 결과의 정의는 각 개인에게 확률변수 <span class="math inline">\(Y^a\)</span>의 특정 값이 아닌 개인별 통계분포 <span class="math inline">\(\Theta_{Y^a}(\cdot)\)</span>를 의미한다. 비결정론적 인과효과의 정의는 <span class="math inline">\(\Theta_{Y^a}(\cdot)\)</span>가 0 ~ 1의 값을 가지는 random cdf인 결정론적 정의의 일반화이다. 모집단 내 평균 반사실적 결과 <span class="math inline">\(\text{E}[Y^a]\)</span>는 <span class="math inline">\(\mathrm{E}\left\{\mathrm{E}\left[Y^a \mid \Theta_{Y^a}(\cdot)\right]\right\}\)</span>과 같다. 따라서 <span class="math inline">\(\mathrm{E}\left[Y^a\right]=\mathrm{E}\left[\int y d \Theta_{Y^a}(y)\right]=\int y d \mathrm{E}\left[\Theta_{Y^a}(y)\right]=\int y d F_{Y^a}(y)\)</span>이 성립하고, 여기서 <span class="math inline">\(F_{Y^a}(\cdot)=\mathrm{E}\left[\Theta_{Y_i^a}(\cdot)\right]\)</span>이다.</p>
<p>만약 반사실적 결과가 binary이고 비결정론적이라면 모집단 내 causal risk ratio <span class="math inline">\(\frac{\mathrm{E}\left[Q_{Y^{a=1}}(1)\right]}{\mathrm{E}\left[Q_{Y^a=0}(1)\right]}\)</span>는 개별 인과효과 <span class="math inline">\(Q_{Y^{a=1}}(1) / Q_{Y^{a=0}}(1)\)</span>의 ratio 척도에 대한 가중 평균인 <span class="math inline">\(\mathrm{E}\left[W\left\{Q_{Y^{a=1}}(1) / Q_{Y^{a=0}}(1)\right\}\right]\)</span>과 같다. 여기서 가중치 <span class="math inline">\(W\)</span>는 <span class="math inline">\(W=\frac{Q_{Y^a=0}(1)}{\mathrm{E}\left[Q_{Y^a=0}(1)\right]}\)</span>이며, 이는 모집단 내 어느 개인에게도 <span class="math inline">\(Q_{Y^{a=0}}(1)\)</span>이 0(즉, 결정론적)이 아닌 경우에만 가능하다.</p>
</div>
</div>
</section><section id="sec-1_5" class="level2" data-number="1.5"><h2 data-number="1.5" class="anchored" data-anchor-id="sec-1_5">
<span class="header-section-number">1.5</span> Causation versus Association</h2>
<p>실제 세계에서는 개인이 처리를 받았거나 받지 않기 때문에 그 중 하나만을 관찰할 수 있다. 관찰된 결과를 <span class="math inline">\(Y\)</span>라고 한다. 각 개인에 대해 <a href="#tbl-12">Table&nbsp;<span>1.2</span></a> 와 같이 관찰된 처리 <span class="math inline">\(A\)</span>와 결과 <span class="math inline">\(Y\)</span>를 알고 있다.</p>
<div class="cell" data-hash="chapter-01_cache/html/tbl-12_8cb30b66c2359aa0e7ac67bb28772f3d">
<details><summary>Code</summary><div class="sourceCode" id="cb2"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html">tribble</a></span><span class="op">(</span></span>
<span>  <span class="op">~</span><span class="st">'name'</span>, <span class="op">~</span><span class="st">'A'</span>, <span class="op">~</span><span class="st">'Y'</span>,</span>
<span>  <span class="st">"Rheia"</span>, <span class="fl">0</span>, <span class="fl">0</span>,</span>
<span>  <span class="st">"Kronos"</span>, <span class="fl">0</span>, <span class="fl">1</span>,</span>
<span>  <span class="st">"Demeter"</span>, <span class="fl">0</span>, <span class="fl">0</span>,</span>
<span>  <span class="st">"Hades"</span>, <span class="fl">0</span>, <span class="fl">0</span>,</span>
<span>  <span class="st">"Hestia"</span>, <span class="fl">1</span>, <span class="fl">0</span>,</span>
<span>  <span class="st">"Poseidon"</span>, <span class="fl">1</span>, <span class="fl">0</span>,</span>
<span>  <span class="st">"Hera"</span>, <span class="fl">1</span>, <span class="fl">0</span>, </span>
<span>  <span class="st">"Zeus"</span>, <span class="fl">1</span>, <span class="fl">1</span>,</span>
<span>  <span class="st">"Artemis"</span>, <span class="fl">0</span>, <span class="fl">1</span>,</span>
<span>  <span class="st">"Apollo"</span>, <span class="fl">0</span>, <span class="fl">1</span>,</span>
<span>  <span class="st">"Leto"</span>, <span class="fl">0</span>, <span class="fl">0</span>,</span>
<span>  <span class="st">"Ares"</span>, <span class="fl">1</span>, <span class="fl">1</span>,</span>
<span>  <span class="st">"Athena"</span>, <span class="fl">1</span>, <span class="fl">1</span>,</span>
<span>  <span class="st">"Hephaestus"</span>, <span class="fl">1</span>, <span class="fl">1</span>,</span>
<span>  <span class="st">"Aphrodite"</span>, <span class="fl">1</span>, <span class="fl">1</span>,</span>
<span>  <span class="st">"Polyphemus"</span>, <span class="fl">1</span>, <span class="fl">1</span>,</span>
<span>  <span class="st">"Persephone"</span>, <span class="fl">1</span>, <span class="fl">1</span>,</span>
<span>  <span class="st">"Hermes"</span>, <span class="fl">1</span>, <span class="fl">0</span>,</span>
<span>  <span class="st">"Hebe"</span>, <span class="fl">1</span>, <span class="fl">0</span>,</span>
<span>  <span class="st">"Dionysus"</span>, <span class="fl">1</span>, <span class="fl">0</span></span>
<span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">gt</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">cols_label</span><span class="op">(</span></span>
<span>    name   <span class="op">=</span> <span class="fu">md</span><span class="op">(</span><span class="st">"Name"</span><span class="op">)</span>,</span>
<span>    A <span class="op">=</span> <span class="fu">md</span><span class="op">(</span><span class="st">"A"</span><span class="op">)</span>,</span>
<span>    Y <span class="op">=</span> <span class="fu">md</span><span class="op">(</span><span class="st">"Y"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="tbl-12" class="anchored">

<div id="ymsqsjsrbe" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#ymsqsjsrbe table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#ymsqsjsrbe thead, #ymsqsjsrbe tbody, #ymsqsjsrbe tfoot, #ymsqsjsrbe tr, #ymsqsjsrbe td, #ymsqsjsrbe th {
  border-style: none;
}

#ymsqsjsrbe p {
  margin: 0;
  padding: 0;
}

#ymsqsjsrbe .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#ymsqsjsrbe .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#ymsqsjsrbe .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#ymsqsjsrbe .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#ymsqsjsrbe .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ymsqsjsrbe .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ymsqsjsrbe .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#ymsqsjsrbe .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#ymsqsjsrbe .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#ymsqsjsrbe .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#ymsqsjsrbe .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#ymsqsjsrbe .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#ymsqsjsrbe .gt_spanner_row {
  border-bottom-style: hidden;
}

#ymsqsjsrbe .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#ymsqsjsrbe .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#ymsqsjsrbe .gt_from_md > :first-child {
  margin-top: 0;
}

#ymsqsjsrbe .gt_from_md > :last-child {
  margin-bottom: 0;
}

#ymsqsjsrbe .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#ymsqsjsrbe .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#ymsqsjsrbe .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#ymsqsjsrbe .gt_row_group_first td {
  border-top-width: 2px;
}

#ymsqsjsrbe .gt_row_group_first th {
  border-top-width: 2px;
}

#ymsqsjsrbe .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ymsqsjsrbe .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#ymsqsjsrbe .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#ymsqsjsrbe .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ymsqsjsrbe .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#ymsqsjsrbe .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#ymsqsjsrbe .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#ymsqsjsrbe .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#ymsqsjsrbe .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#ymsqsjsrbe .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ymsqsjsrbe .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ymsqsjsrbe .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#ymsqsjsrbe .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#ymsqsjsrbe .gt_left {
  text-align: left;
}

#ymsqsjsrbe .gt_center {
  text-align: center;
}

#ymsqsjsrbe .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#ymsqsjsrbe .gt_font_normal {
  font-weight: normal;
}

#ymsqsjsrbe .gt_font_bold {
  font-weight: bold;
}

#ymsqsjsrbe .gt_font_italic {
  font-style: italic;
}

#ymsqsjsrbe .gt_super {
  font-size: 65%;
}

#ymsqsjsrbe .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#ymsqsjsrbe .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#ymsqsjsrbe .gt_indent_1 {
  text-indent: 5px;
}

#ymsqsjsrbe .gt_indent_2 {
  text-indent: 10px;
}

#ymsqsjsrbe .gt_indent_3 {
  text-indent: 15px;
}

#ymsqsjsrbe .gt_indent_4 {
  text-indent: 20px;
}

#ymsqsjsrbe .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
<caption>Table&nbsp;1.2:  <p>처리와 결과 테이블</p> </caption>
  <thead><tr class="gt_col_headings">
<th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id="Name">Name</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="A">A</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_right" rowspan="1" colspan="1" scope="col" id="Y">Y</th>
    </tr></thead>
<tbody class="gt_table_body">
<tr>
<td headers="name" class="gt_row gt_left">Rheia</td>
<td headers="A" class="gt_row gt_right">0</td>
<td headers="Y" class="gt_row gt_right">0</td>
</tr>
<tr>
<td headers="name" class="gt_row gt_left">Kronos</td>
<td headers="A" class="gt_row gt_right">0</td>
<td headers="Y" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="name" class="gt_row gt_left">Demeter</td>
<td headers="A" class="gt_row gt_right">0</td>
<td headers="Y" class="gt_row gt_right">0</td>
</tr>
<tr>
<td headers="name" class="gt_row gt_left">Hades</td>
<td headers="A" class="gt_row gt_right">0</td>
<td headers="Y" class="gt_row gt_right">0</td>
</tr>
<tr>
<td headers="name" class="gt_row gt_left">Hestia</td>
<td headers="A" class="gt_row gt_right">1</td>
<td headers="Y" class="gt_row gt_right">0</td>
</tr>
<tr>
<td headers="name" class="gt_row gt_left">Poseidon</td>
<td headers="A" class="gt_row gt_right">1</td>
<td headers="Y" class="gt_row gt_right">0</td>
</tr>
<tr>
<td headers="name" class="gt_row gt_left">Hera</td>
<td headers="A" class="gt_row gt_right">1</td>
<td headers="Y" class="gt_row gt_right">0</td>
</tr>
<tr>
<td headers="name" class="gt_row gt_left">Zeus</td>
<td headers="A" class="gt_row gt_right">1</td>
<td headers="Y" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="name" class="gt_row gt_left">Artemis</td>
<td headers="A" class="gt_row gt_right">0</td>
<td headers="Y" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="name" class="gt_row gt_left">Apollo</td>
<td headers="A" class="gt_row gt_right">0</td>
<td headers="Y" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="name" class="gt_row gt_left">Leto</td>
<td headers="A" class="gt_row gt_right">0</td>
<td headers="Y" class="gt_row gt_right">0</td>
</tr>
<tr>
<td headers="name" class="gt_row gt_left">Ares</td>
<td headers="A" class="gt_row gt_right">1</td>
<td headers="Y" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="name" class="gt_row gt_left">Athena</td>
<td headers="A" class="gt_row gt_right">1</td>
<td headers="Y" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="name" class="gt_row gt_left">Hephaestus</td>
<td headers="A" class="gt_row gt_right">1</td>
<td headers="Y" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="name" class="gt_row gt_left">Aphrodite</td>
<td headers="A" class="gt_row gt_right">1</td>
<td headers="Y" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="name" class="gt_row gt_left">Polyphemus</td>
<td headers="A" class="gt_row gt_right">1</td>
<td headers="Y" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="name" class="gt_row gt_left">Persephone</td>
<td headers="A" class="gt_row gt_right">1</td>
<td headers="Y" class="gt_row gt_right">1</td>
</tr>
<tr>
<td headers="name" class="gt_row gt_left">Hermes</td>
<td headers="A" class="gt_row gt_right">1</td>
<td headers="Y" class="gt_row gt_right">0</td>
</tr>
<tr>
<td headers="name" class="gt_row gt_left">Hebe</td>
<td headers="A" class="gt_row gt_right">1</td>
<td headers="Y" class="gt_row gt_right">0</td>
</tr>
<tr>
<td headers="name" class="gt_row gt_left">Dionysus</td>
<td headers="A" class="gt_row gt_right">1</td>
<td headers="Y" class="gt_row gt_right">0</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<p><a href="#tbl-12">Table&nbsp;<span>1.2</span></a> 는 처리 <span class="math inline">\(a\)</span>를 받은 모집단 중에서 결과 <span class="math inline">\(Y\)</span>가 발생하는 비율을 계산하는 데 사용된다. 예를 들어, 13명의 처리를 받은 사람 중 7명이 사망했다. 따라서 처리 받은 사람들의 사망 위험은 <span class="math inline">\(\text{Pr}[Y=1|A=1]=7/13\)</span>이다. 조건부 확률 <span class="math inline">\(\text{Pr}[Y=1|A=a]\)</span>은 처리 값 <span class="math inline">\(a\)</span>를 받은 관심 모집단 중 결과 <span class="math inline">\(Y\)</span>가 발생한 개인의 비율로 정의된다.</p>
<p><span class="math inline">\(\text{Pr}[Y=1|A=1]\)</span>이 <span class="math inline">\(\text{Pr}[Y=1|A=0]\)</span>와 같을 때, 처리 <span class="math inline">\(A\)</span>가 결과 <span class="math inline">\(Y\)</span>와 독립적이라고 한다. 즉, <span class="math inline">\(A\)</span>는 <span class="math inline">\(Y\)</span>와 관련이 없거나, <span class="math inline">\(A\)</span>가 <span class="math inline">\(Y\)</span>를 예측하지 않는 것이다. <strong>Independence</strong>는 <span class="math inline">\(Y\perp \!\!\! \perp A\)</span>로 표기한다. 독립은 아래와 같이 정의된다:</p>
<ol type="i">
<li>Associational risk difference: <span class="math inline">\(\operatorname{Pr}[Y=1 \mid A=1]-\operatorname{Pr}[Y=1 \mid A=0]=0\)</span>
</li>
<li>Associational risk ratio: <span class="math inline">\(\frac{\operatorname{Pr}[Y=1 \mid A=1]}{\operatorname{Pr}[Y=1 \mid A=0]}=1\)</span>
</li>
<li>Associational risk odds ratio: <span class="math inline">\(\frac{\operatorname{Pr}[Y=1 \mid A=1] / \operatorname{Pr}[Y=0 \mid A=1]}{\operatorname{Pr}[Y=1 \mid A=0] / \operatorname{Pr}[Y=0 \mid A=0]}=1\)</span>
</li>
</ol>
<p>처리 <span class="math inline">\(A\)</span>와 결과 <span class="math inline">\(Y\)</span>가 연관이 있을 때는 <span class="math inline">\(\operatorname{Pr}[Y=1 \mid A=1] \neq \operatorname{Pr}[Y=1 \mid A=0]\)</span>라고 표현한다. <a href="#tbl-12">Table&nbsp;<span>1.2</span></a> 의 모집단에서는 처리와 결과가 실제로 관련되어 있다. 왜냐하면 <span class="math inline">\(\operatorname{Pr}[Y=1 \mid A=1]=7 / 13\)</span> and <span class="math inline">\(\operatorname{Pr}[Y=1 \mid A=0]=3 / 7\)</span>이기 때문이다. Associational risk difference, ratio, odds ratio는 연관의 강도를 정량화하기 때문에 <strong>연관 척도(association measures)</strong>라고 부른다. 이 척도들도 무작위 변동성의 영향을 받지만 <span class="quarto-unresolved-ref">?sec-10</span> 이를 무시하고 <a href="#tbl-12">Table&nbsp;<span>1.2</span></a> 의 모집단이 매우 크다고 가정할 것이다.</p>
<p>Binary outcomes에 대해 모집단 association의 정의를 <span class="math inline">\(\mathrm{E}[Y \mid A=1] \neq \mathrm{E}[Y \mid A=0]\)</span>라고 할 수 있다. 연속적인 <span class="math inline">\(Y\)</span>에 대해서도 마찬가지로 정의한다. binary <span class="math inline">\(A\)</span>에 대해서는 <span class="math inline">\(Y\)</span>와 <span class="math inline">\(A\)</span>가 상관관계가 없는 경우에만 연관이 없다고 한다.</p>
<p><a href="#tbl-11">Table&nbsp;<span>1.1</span></a> 의 20명의 모집단에서 20명 모두가 처리를 받았을 때의 사망 위험과 모두 받지 않았을 때의 사망 위험을 비교한 후에 (i) 인과효과가 없음을 발견했고, <a href="#tbl-12">Table&nbsp;<span>1.2</span></a> 를 통해 (ii) 처리를 받은 13명과 처리 받지 않은 7명의 사망 위험을 비교한 후에 연관성을 발견했다. <a href="#fig-11">Figure&nbsp;<span>1.1</span></a> 은 인과성과 연관성의 차이를 설명한다. 모집단(다이아몬드)는 처리받은 사람들(흰색)과 처리받지 않은 사람들(더 작은 회색)로 나뉜다.</p>
<div class="cell" data-hash="chapter-01_cache/html/fig-11_d557081433177512b9356afb0d644b31">
<details><summary>Code</summary><div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/include_graphics.html">include_graphics</a></span><span class="op">(</span><span class="st">"../images/fig_11.png"</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">
<div id="fig-11" class="quarto-figure quarto-figure-center anchored">
<figure class="figure"><p><img src="../images/fig_11.png" class="img-fluid figure-img" width="1500"></p>
<figcaption class="figure-caption">Figure&nbsp;1.1: 인과성과 연관성의 차이</figcaption></figure>
</div>
</div>
</div>
<p>인과성은 모든 개인이 처리를 받았을 경우와 받지 않았을 경우 사이의 대조를 보이는 반면, 연관성은 원래 처리 받은 경우와 받지 않은 경우의 대조를 보인다. 즉 인과성에 대한 추론은 ‘모든 사람이 처리를 받았다면 위험은 어떻게 될까?’ 또는 ‘모든 사람이 처리를 받지 않았다면 위험은 어떻게 될까?’와 같은 가상 세계에서의 ’만약에’ 라는 질문인 반면, 연관성에 대한 추론은 ‘처리받은 사람들의 위험은 얼마인가?’ 또는 ’처리받지 않은 사람들의 위험은 얼마인가?’와 같은 실제 세계의 질문들과 관련되어 있다.</p>
<p>Risk <span class="math inline">\(\text{Pr}[Y=1|A=a]\)</span>는 조건부 확률이다: ’실제로 처리 값 <span class="math inline">\(a\)</span>를 받았다’라는 조건을 만족하는 모집단의 부분집합에서의 <span class="math inline">\(Y\)</span>의 risk이다. 반면에 <span class="math inline">\(\text{Pr}[Y^a=1]\)</span>은 조건부가 아닌 (marginal prob이라고도 함) 전체 모집단에서의 <span class="math inline">\(Y^a\)</span>의 risk이다. 따라서 연관성은 개인의 실제 처리값(<span class="math inline">\(A=1\)</span> 또는 <span class="math inline">\(A=0\)</span>)에 의해 결정된 모집단의 두 개의 분리된 부분집합에서 risk로 정의되는 반면, 인과성은 2가지 서로 다른 처리 값(<span class="math inline">\(a=1\)</span> 또는 <span class="math inline">\(a=0\)</span>) 하에서 동일한 모집단에서의 다른 risk에 의해 정의된다.</p>
<p>이렇게 상관관계와 인과관계가 불일치할 수 있음을 나타내는 말이 <span class="quarto-unresolved-ref">?sec-7</span> 에서 언급하는 <strong>confounding</strong>이다.</p>
<p>인과 추론은 <a href="#tbl-11">Table&nbsp;<span>1.1</span></a> 과 같은 가상의 데이터가 필요하지만, 실제로 우리가 얻는 것은 <a href="#tbl-12">Table&nbsp;<span>1.2</span></a> 와 같은 실제 데이터뿐이다. 이럴 때 사용할 수 있는 조건은 다음 장 <a href="chapter-02.html"><span>Chapter&nbsp;2</span></a> 에서 다루는 <strong>randomized experiment</strong>이다.</p>


</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="../index.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">서론</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../chapters/chapter-02.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Randomized Experiments</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>